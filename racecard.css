/* =========================
   === CONTAINER (No changes needed, uses existing base styles)
   ========================= */
.container {
  width: 100%;
  max-width: 740px;
  margin: 0 auto;
  padding: 16px 3vw 24px 3vw;
  box-sizing: border-box;
}

/* =========================
   === COURSE NAV BAR (TOP)
   ========================= */
.course-bar {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  overflow-x: auto;
  margin-bottom: 10px;
  padding: 0.5em 0 0.2em 0;
  background: transparent;
  scrollbar-width: none;
  -ms-overflow-style: none;
}
.course-bar::-webkit-scrollbar { display: none; }
.course-link {
  color: var(--color-accent-green);
  /* Use existing general backgrounds or define specific ones if truly different */
  background: var(--color-table-odd-bg); /* Use a general dark background from base.css */
  border-radius: 9px;
  font-size: 1em;
  font-weight: 800;
  padding: 7px 20px;
  text-decoration: none;
  border: 2px solid transparent;
  box-shadow: var(--shadow-sm); /* Use a general small shadow */
  letter-spacing: 0.03em;
  white-space: nowrap;
  outline: none;
  transition: all 0.14s cubic-bezier(.28,1.25,.52,.99);
}
.course-link.active,
.course-link:hover,
.course-link:focus {
  background: var(--color-accent-green);
  color: var(--color-text-inverted) !important; /* Text on accent */
  border-color: var(--color-accent-green);
  transform: translateY(-2px) scale(1.04);
  box-shadow: var(--shadow-md); /* Use a general medium shadow */
}

/* =========================
   === RACE TIMES NAV (PER COURSE)
   ========================= */
.race-links-wrapper {
  width: 100%;
  margin-bottom: 14px;
}
.race-links-bar {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  overflow-x: auto;
  background: transparent;
  justify-content: center;
  scrollbar-width: none;
  -ms-overflow-style: none;
  padding: 0;
}
.race-links-bar::-webkit-scrollbar { display: none; }
.race-links-course {
  color: var(--color-accent-green); /* Use the main accent green */
  font-weight: 900;
  font-size: 1.05em;
  letter-spacing: 0.02em;
  margin-right: 1em;
  white-space: nowrap;
  flex-shrink: 0;
}
.race-link {
  flex: 0 0 auto;
  min-width: 0;
  padding: 7px 17px;
  font-size: 1em;
  /* Use existing general backgrounds or define specific ones if truly different */
  background: var(--color-table-even-bg); /* Or var(--color-section-bg) */
  color: var(--color-primary-yellow);
  border-radius: 8px;
  text-decoration: none;
  font-weight: 700;
  text-align: center;
  white-space: nowrap;
  border: 2px solid transparent;
  outline: none;
  box-shadow: var(--shadow-sm); /* Use a general small shadow */
  transition: all 0.13s cubic-bezier(.28,1.25,.52,.99);
}
.race-link:last-child { margin-right: 0; }
.race-link-active,
.race-link:hover,
.race-link:focus {
  background: var(--color-accent-green);
  color: var(--color-text-inverted) !important;
  border-color: var(--color-accent-green);
  transform: translateY(-2px);
  box-shadow: var(--shadow-md); /* Use a general medium shadow */
}

/* =========================
   === RACE HEADER
   ========================= */
.race-header {
  /* Use existing general backgrounds or define specific ones if truly different */
  background: var(--color-navbar-bg); /* This is a good dark base */
  border-radius: 14px;
  padding: 1.2em 1em 1em 1em;
  margin: 1.3em 0 1.2em 0;
  box-shadow: var(--shadow-lg); /* Use a general large shadow */
  text-align: center;
}
.race-header h1 {
  font-size: 1.35rem;
  margin-bottom: 0.28em;
  color: var(--color-primary-yellow);
  font-weight: 900;
  letter-spacing: 0.015em;
}
.race-header-time {
  color: var(--color-accent-green);
  font-weight: 600;
  letter-spacing: 0.04em;
}
.race-meta,
.race-details {
  color: var(--color-text-secondary);
  font-size: 1.02em;
  margin-bottom: 0.38em;
  line-height: 1.5;
}
.race-meta strong.race-name {
  color: var(--color-accent-green);
  font-size: 1.08em;
  display: block;
  margin-bottom: 0.32em;
  font-weight: 700;
}
.race-details-line-1 b, .race-details-line-2 b {
  color: var(--color-primary-yellow);
  font-weight: 700;
}

/* =========================
   === RACE TOP PICKS
   ========================= */
.race-top-picks {
  /* Use existing general backgrounds or define specific ones if truly different */
  background: var(--color-section-bg); /* Or var(--color-table-even-bg) */
  border-radius: 11px;
  padding: 1.08em 0.7em 0.7em 0.7em;
  margin: 0 0 1.6em 0;
  box-shadow: var(--shadow-md); /* Use general medium shadow */
}
.race-top-picks-title {
  font-weight: 800;
  font-size: 1.07em;
  color: var(--color-primary-yellow);
  margin-bottom: 0.6em;
  /* Define this border color in base.css or use an existing one */
  border-bottom: 1px solid rgba(255, 215, 0, 0.16); /* Using a direct rgba based on yellow for now */
  padding-bottom: 0.38em;
  text-align: left;
  letter-spacing: .03em;
}
.race-top-picks-list {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5em 1.1em;
  align-items: flex-start;
  font-size: 1em;
}
.race-top-pick-item {
  display: flex;
  align-items: baseline;
  font-size: 1em;
  white-space: nowrap;
  color: var(--color-text-primary);
}
.pick-number { color: var(--color-primary-yellow); font-weight: 800; margin-right: 0.23em; font-size: 1em; }
.pick-horse {
  color: var(--color-accent-green); /* Use main accent green */
  font-weight: 700; margin-right: 0.36em;
  text-decoration: none; transition: color 0.12s;
}
.pick-horse:hover { color: var(--color-accent-green); text-decoration: underline; } /* Hover can be same, or define a light/dark specific hover */
.pick-score { color: var(--color-text-secondary); font-weight: 600; font-size: 0.95em; margin-left: 0.4em; }
.pick-odds { color: var(--color-primary-yellow); font-weight: 700; font-size: 1em; } /* Use main primary yellow */

/* =========================
   === RUNNER CARDS (CRITICAL FIXES HERE)
   ========================= */
.runners-list { margin-top: 1.3em; padding-bottom: 16px; }
.runner-card {
  /* Use existing base.css variables for background and shadow */
  background: var(--color-table-odd-bg); /* This seems appropriate for a card background */
  color: var(--color-text-primary);
  border-radius: 11px;
  display: flex;
  gap: 12px;
  margin-bottom: 13px;
  padding: 0.8em 0.5em 0.85em 0.8em;
  box-shadow: var(--shadow-lg); /* Use a general large shadow */
  align-items: flex-start;
  transition: all 0.21s cubic-bezier(.28,1.25,.52,.99);
  border: 1px solid transparent;
  scroll-margin-top: 76px;
}
.runner-card:hover:not(.expanded) {
  transform: translateY(-3px) scale(1.018);
  /* Adjust hover shadows to use base variables, or create specific ones if absolutely needed */
  box-shadow: var(--shadow-xl), 0 0 10px rgba(54,232,181,0.2); /* Combined existing variables with a subtle green glow */
  border-color: var(--color-accent-green);
}
.runner-card.expanded {
  /* For expanded, use a slightly different background or a darker one */
  background: var(--color-navbar-bg); /* Could be slightly darker or different from default card */
  box-shadow: var(--shadow-xl); /* Use a general XL shadow */
  border-color: var(--color-accent-green);
}
.runner-nr { opacity: 0.63; filter: grayscale(0.17); }
.runner-num-draw {
  min-width: 34px; text-align: center; color: var(--color-primary-yellow);
  font-size: 1.12em; margin-right: 5px; margin-top: 2px;
  display: flex; flex-direction: column; align-items: center; gap: 2.5px; flex-shrink: 0;
}
.runner-num-draw .runner-draw { font-size: 0.85em; color: var(--color-text-secondary); font-weight: 600; }
.runner-num-draw .runner-score { display: block; font-size: 0.92em; color: var(--color-accent-green); font-weight: 700; }
.runner-silk {
  width: 32px; height: 32px; object-fit: contain; background: var(--color-table-even-bg); /* Use a background that fits your base theme */
  border-radius: 8px;
  margin-right: 8px; align-self: flex-start; box-shadow: var(--shadow-sm); flex-shrink: 0;
}
.runner-main {
  flex: 1 1 0;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 0px;
}
.runner-horse {
  font-weight: 800;
  color: var(--color-accent-green);
  font-size: 1.08em;
  margin-bottom: 1px;
  line-height: 1.15;
  transition: color 0.12s;
}
.runner-card:hover .runner-horse { color: var(--color-primary-yellow); } /* Adjust hover color if needed */
.runner-meta-line {
  color: var(--color-text-secondary);
  font-size: 0.99em;
  margin-bottom: 0.07em;
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 0.19em;
  line-height: 1.24;
}
.runner-meta-line .runner-meta-separator { opacity: 0.44; }
.runner-meta-line .runner-form {
  color: var(--color-text-primary); /* Use primary text color */
  background: var(--color-table-header-bg); /* Use a darker background from base */
  border-radius: 6px;
  padding: 2px 8px;
  font-size: 0.89em;
  margin-left: 8px;
  font-weight: 500;
  white-space: nowrap;
}
.runner-meta-line .runner-nr-tag {
  color: #e55; /* Keep hardcoded if this is a specific error color not in base */
  font-weight: 700; margin-left: 8px;
  background: rgba(229, 85, 85, 0.18); /* Keep hardcoded or define in base */
  padding: 2px 6px; border-radius: 4px;
}
.runner-info-line {
  color: var(--color-text-secondary);
  font-size: 0.95em;
  line-height: 1.31;
  margin-top: 2px;
  display: flex;
  flex-wrap: wrap;
  gap: 0.43em 0.8em;
}
.runner-info-line b { color: var(--color-accent-green); font-weight: 700; } /* Use main accent green */
.runner-odds {
  color: var(--color-primary-yellow); font-weight: 800; font-size: 1.09em;
  margin-left: 11px; align-self: center; min-width: 36px; text-align: right; white-space: nowrap; flex-shrink: 0;
}

/* =========================
   === More Info Dropdown
   ========================= */
.runner-more-btn {
  margin: 0.5em 0 0 0;
  background: var(--gradient-primary-button); /* Use the general button gradient */
  color: var(--color-text-inverted);
  font-weight: 700;
  border: none;
  border-radius: 8px;
  padding: 5px 12px;
  cursor: pointer;
  font-size: 0.97em;
  transition: all 0.17s cubic-bezier(.28,1.25,.52,.99);
  box-shadow: var(--shadow-sm); /* Use general small shadow */
}
.runner-more-btn:hover {
  background: var(--gradient-primary-button-hover); /* Use general button gradient hover */
  color: var(--color-text-inverted);
  box-shadow: var(--shadow-md); /* Use general medium shadow */
  transform: translateY(-2px);
}
.runner-more-btn:active {
  transform: translateY(0);
  box-shadow: 0 1px 3px rgba(0,0,0,0.08); /* Keep subtle */
}
.runner-more {
  display: none;
  margin-top: 0.67em;
  font-size: 0.95em;
  color: var(--color-text-secondary); /* Use secondary text color */
  background: var(--color-table-even-bg); /* Use a background from base */
  border-radius: 8px;
  padding: 0.65em 1em 0.65em 1em;
  line-height: 1.44;
}
.runner-card.expanded .runner-more { display: block; }
.runner-more b { color: var(--color-primary-yellow); }
.runner-more .no-data { color: var(--color-text-secondary); font-style: italic; } /* Use secondary text for disabled */
.runner-more .prev-owners { color: #90f; font-size: 0.93em; } /* Keep hardcoded if not a base variable */
.runner-stats-table {
  margin: 0.7em 0;
  font-size: 0.96em;
  background: var(--color-table-odd-bg); /* Use table background from base */
  border-radius: 7px;
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  overflow: hidden;
}
.runner-stats-table th,
.runner-stats-table td {
  padding: 7px 11px;
  border-bottom: 1px solid var(--color-table-border);
  border-right: 1px solid var(--color-table-border); /* Use main table border */
}
.runner-stats-table tr:last-child td { border-bottom: none; }
.runner-stats-table tr td:last-child { border-right: none; }
.runner-stats-table b { color: var(--color-accent-green); }
.runner-quotes, .runner-stable-tour {
  margin-top: 1em;
  background: var(--color-table-even-bg); /* Use table background from base */
  padding: 0.8em 1em;
  border-radius: 7px;
  box-shadow: inset 0 0 5px rgba(0,0,0,0.09); /* Keep hardcoded or define a specific inset shadow var */
}
.runner-quotes b, .runner-stable-tour b { color: var(--color-primary-yellow); }
.runner-quotes ul, .runner-stable-tour ul {
  list-style: none; padding-left: 0; margin-top: 0.5em;
}
.runner-quotes li, .runner-stable-tour li {
  margin-bottom: 0.45em; position: relative; padding-left: 1.2em; color: var(--color-text-secondary); font-size: 0.95em;
}
.runner-quotes li:last-child, .runner-stable-tour li:last-child { margin-bottom: 0; }
.runner-quotes li::before, .runner-stable-tour li::before {
  content: '▪'; color: var(--color-accent-green); position: absolute; left: 0; top: 0; font-size: 0.9em; line-height: 1.4;
}

/* =========================
   === DATE SWITCHER (Mostly uses base variables already)
   ========================= */
.date-switcher {
  text-align: center;
  margin: 18px 0 12px 0;
  font-size: 1.15em;
  letter-spacing: 0.01em;
}
.date-switcher a {
  color: var(--color-primary-yellow);
  background: var(--color-table-header-bg); /* Use a similar background to header */
  font-weight: 700;
  text-decoration: none;
  padding: 7px 25px;
  margin: 0 3px;
  border-radius: 8px;
  transition: background 0.18s, color 0.18s;
  display: inline-block;
  border: none;
}
.date-switcher a.active {
  background: var(--color-accent-green);
  color: var(--color-text-inverted);
  font-weight: 900;
  box-shadow: var(--shadow-sm); /* Use a general small shadow */
}
.date-switcher a:hover:not(.active) {
  background: var(--color-primary-yellow);
  color: var(--color-text-inverted);
}

/* =========================
   === RESPONSIVE (No changes to variables here)
   ========================= */
@media (max-width: 950px) {
  .container { max-width: 99vw; }
}
@media (max-width: 800px) {
  .course-bar, .race-links-bar { gap: 7px; }
  .race-links-bar { justify-content: flex-start; }
  .race-link, .course-link { padding: 6px 11px; font-size: 0.96em; }
}
@media (max-width: 600px) {
  .container { padding: 8px 1vw 16px 1vw; }
  .race-header { padding: 1em 0.7em 0.9em 0.7em; }
  .race-header h1 { font-size: 1.02rem; }
  .race-meta, .race-details { font-size: 0.97em; }
  .race-top-picks { padding: 0.85em 0.4em 0.65em 0.4em; }
  .race-top-picks-title { font-size: 1em; }
  .race-top-picks-list { gap: 0.34em 0.6em; }
  .race-top-pick-item { font-size: 0.96em; }
  .runners-list { margin-top: 1.1em; }
  .runner-card { gap: 6px; padding: 0.63em 0.2em 0.6em 0.2em; min-height: 50px; border-radius: 8px; }
  .runner-num-draw { min-width: 27px; font-size: 0.98em; margin-right: 3px; }
  .runner-silk { width: 23px; height: 23px; margin-right: 3px; }
  .runner-main { min-width: 82px; font-size: 0.97em; }
  .runner-horse { font-size: 0.97em; }
  .runner-meta-line, .runner-info-line { font-size: 0.93em; gap: 0.09em; }
  .runner-odds { font-size: 0.96em; min-width: 26px; }
  .runner-more-btn { padding: 2.5px 7px; font-size: 0.93em; }
  .runner-more { font-size: 0.92em; padding: 0.42em 0.3em 0.34em 0.3em; }
  .runner-stats-table th, .runner-stats-table td { padding: 5px 6px; font-size: 0.87em; }
}
@media (max-width: 400px) {
  .container { padding-left: 2vw; padding-right: 2vw; }
  .race-top-picks-list { flex-direction: column; align-items: flex-start; }
  .race-top-pick-item { font-size: 0.95em; margin-bottom: 0.27em; }
  .runner-card { min-height: 44px; }
  .runner-num-draw { min-width: 21px; font-size: 0.9em; }
  .runner-silk { width: 16px; height: 16px; }
  .runner-horse { font-size: 0.88em; }
  .runner-meta-line, .runner-info-line { font-size: 0.86em; }
  .runner-odds { font-size: 0.89em; min-width: 18px; }
  .runner-more-btn { font-size: 0.87em; padding: 1.5px 4px; }
}